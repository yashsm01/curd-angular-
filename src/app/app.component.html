<div class="container">
  <header class="d-flex justify-content-end py-3">
    <ul class="nav nav-pills">
      <li class="nav-item hover" *ngIf="!Add"><a class="nav-link " aria-current="page" (click)="add()">Add New</a></li>
      <li class="nav-item hover" *ngIf="Add"><a class="nav-link " aria-current="page" (click)="add()">Close</a></li>
    </ul>
  </header>
  <div class="row" *ngIf="Add">
      <div class="col-12">
          <form [formGroup]="form" (ngSubmit)="onSubmit()">
              <div class="form-group">
                  <label for="userId">User ID</label>
                  <input type="text" formControlName="userId" class="form-control" [ngClass]="{ 'is-invalid': submitted && form.controls['userId'].errors }" >
              </div>
              <div class="form-group">
                  <label for="title">Title</label>
                  <input type="text" formControlName="title" class="form-control" [ngClass]="{ 'is-invalid': submitted && form.controls['title'].errors }" />
              </div>
              <div class="form-group">
                <label for="body">body</label>
                <input type="text" formControlName="body" class="form-control" [ngClass]="{ 'is-invalid': submitted && form.controls['body'].errors }" />
              </div>  
              <div class="form-group my-2">
                  <button [disabled]="loading" class="btn btn-primary">
                      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                      Save
                  </button>
              </div> 
              <div *ngIf="message != ''">{{message}}</div>
          </form> 
      </div>
  </div>
  <div class="row">
    <div class="col-12">
      <div>
        <mat-accordion>
          <mat-expansion-panel (opened)="panelOpenState = true"
          (closed)="panelOpenState = false" *ngFor="let list of mainList; index">
            <mat-expansion-panel-header>
            <mat-panel-title>
             ID: {{list.id}}
            </mat-panel-title>
            <mat-panel-description>
              Title: {{list.title}}
            </mat-panel-description>
            </mat-expansion-panel-header>
            Body: {{list.body}}
            <mat-action-row>
              <button style="margin-right: 10px;" type="button" class="btn btn-primary"  (click)="OnUpdate(list.id)">Update</button>
              <button type="button" class="btn btn-danger" (click)="OnDelete(list.id)" >Delete</button>
            </mat-action-row>
            </mat-expansion-panel>
        </mat-accordion>
      </div>
    </div>
  </div>
</div>

